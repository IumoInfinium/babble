{% extends 'main.html' %}
{% load static %}
{% block content %}
<!-- <link rel="stylesheet" href="{% static 'styles/home.css' %}"> -->
    <div class="jumbotron">
    <div class="row">
        <div class="column home-container text-bg-danger"> 
            <div class="text-center d-flex fs-3 justify-content-between">
                <div></div>
                <a class="pr-5 name1 " href="/"><div class="p-2">
                    â˜ƒ Babble 
                </div></a>
                <a class="p-3 github-logo" href="https://github.com/iumoinfinium/agrotry">
                    <img class="side-logo" src="{% static 'images/github-mark-white.png' %}">
                </a>
            </div>
            <label class="home-text" for="new-channel">~ Create a new room</label>
            <button class="go-button" id="new-channel" onclick="newChannel()"><span class="material-symbols-outlined">
                add
                </span></button>
            <br>
            <label class="home-text" for="existing-channel">~ Join an existing room</label>
            <button class="go-button" id="existing-channel" onclick="existingChannel()">Join</button>
            <div class="info">
                Babble, a platform where you can talk with however you like!
                <details class="rounded">
                    <summary>
                    
                    </summary>

                    <p>
                        To get started, either create a new room and get yourself a username and talk all you want!
                    </p>
                    
                    Okay so you have the room code? Join an existing room and just with your username :)
                </details>                
            </div>
        </div>
    </div>
    </div>


    <script>
        const generateID = (stringLength = 20) => {
            let randomStr = "";
            const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZqeytrpolkadjsghfgmnbzxcvnQPOWEYRKASJHDGFMNBCVX--___-_jsfhrlg-_124903564576986483658fgh4sdfh687e4h897WETHJ68F7G4688471877GFHJFFGJ87469857468746hfghwrtiyj4598yhdjkhgnk";
            for (let index = 0; index < stringLength; index++) {
                randomStr += characters.charAt(
                        Math.floor(Math.random() * characters.length)
                    );
            }
            return randomStr;
        };
        function newChannel(){
            localStorage.setItem('CHANNEL_NAME',generateID(8));
            if(localStorage.getItem('CHANNEL_NAME')){
                window.location ='register/';
            }
        }
        function existingChannel(){
            window.location = 'join/';
        }
    </script>

{% endblock content %}